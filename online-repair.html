<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no,maximum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache">
    <link rel="stylesheet" href="assets/mui/css/mui.min.css?v=1.0.0">
    <link rel="stylesheet" href="css/common.css?v=1.0.0">
    <link rel="stylesheet" href="css/online-repair.css?v=1.0.1">
    <title>叠石桥</title>
    <!--
        在线报修
    -->
</head>

<body>
    <div id="app" class="mui-content">
        <!--标题-->
        <header class="top-upload">
            <i onclick="goBack()" class="mui-icon mui-icon-arrowleft"></i>
            <p class="title">
                <span class="main-title">在线报修</span>
                <button @click="goRepair" class="reverse-btn">预约</button>
            </p>
        </header>
        <!--tab页头-->
        <ul class="goods-tab-bar">
            <li class="goods-tab-bar-item active">
                预约中
            </li>
            <li class="goods-tab-bar-item">
                指派中
            </li>
            <li class="goods-tab-bar-item">
                已完成
            </li>
            <li class="goods-tab-bar-item">
                已取消
            </li>
        </ul>
        <div class="goods-tab-content">
            <!--预约中-->
            <div data-type="1" class="goods-tab-content-item active">
                <div v-for="item in reverseing.list" class="goods-item upper">
                    <div class="goods-info upper">
                        <p v-cloak class="goods-order">单号：{{item.re_code}}</p>
                    </div>
                    <div class="goods-img-container">
                        <img :src="item.repait_content_images" alt="" class="goods-img">
                        <div class="goods-desc">
                            <p v-cloak class="desc-title">{{item.repair_title}}</p>
                            <!-- <p class="desc-detail">{{item.detail}}</p> -->
                            <p v-cloak class="desc-time">预约时间：{{item.create_at}}</p>
                        </div>
                    </div>
                    <div class="operation-group">
                        <button @click="getDetail(1,item.id,item.handle_status)" class="get-detail">查看详情</button>
                        <!-- <button @click="cancelReverse(item.id)" class="get-detail reverse">取消预约</button> -->
                    </div>
                </div>
                <div class="no-more">--没有更多了--</div>
            </div>
            <!--指派中-->
            <div data-type="2" class="goods-tab-content-item">
                <div v-for="item in assigning.list" class="goods-item upper">
                    <div class="goods-info upper">
                        <p v-cloak class="goods-order">单号：{{item.re_code}}</p>
                    </div>
                    <div class="goods-img-container">
                        <img :src="item.repait_content_images" alt="" class="goods-img">
                        <div class="goods-desc">
                            <p v-cloak class="desc-title">{{item.repair_title}}</p>
                            <!-- <p class="desc-detail">{{item.detail}}</p> -->
                            <p v-cloak class="desc-time">预约时间：{{item.create_at}}</p>
                        </div>
                    </div>
                    <div class="operation-group">
                        <button @click="getDetail(2,item.id,item.handle_status)" class="get-detail">查看详情</button>
                    </div>
                </div>
                <div class="no-more">--没有更多了--</div>
            </div>
            <!--已完成-->
            <div data-type="4" class="goods-tab-content-item">
                <div v-for="item in finished.list" class="goods-item upper">
                    <div class="goods-info upper">
                        <p v-cloak class="goods-order">单号：{{item.re_code}}</p>
                    </div>
                    <div class="goods-img-container">
                        <img :src="item.repait_content_images" alt="" class="goods-img">
                        <div class="goods-desc">
                            <p v-cloak class="desc-title">{{item.repair_title}}</p>
                            <!-- <p class="desc-detail">{{item.detail}}</p> -->
                            <p v-cloak class="desc-time">预约时间：{{item.create_at}}</p>
                            <p v-cloak v-if="item.re_money > 0" class="pay-re-money">需支付：￥{{item.re_money}}</p>
                        </div>
                    </div>
                    <div class="operation-group">
                        <button @click="getDetail(4,item.id,item.handle_status)" class="get-detail">查看详情</button>
                        <button v-if="item.type == 1" @click="goPay(4,item.id,item.handle_status)" class="get-detail reverse">立即缴费</button>
                    </div>
                </div>
                <div class="no-more">--没有更多了--</div>
            </div>
            <!--已拒绝-->
            <div data-type="3" class="goods-tab-content-item">
                <div v-for="item in refused.list" class="goods-item upper">
                    <div class="goods-info upper">
                        <p v-cloak class="goods-order">单号：{{item.re_code}}</p>
                    </div>
                    <div class="goods-img-container">
                        <img :src="item.repait_content_images" alt="" class="goods-img">
                        <div class="goods-desc">
                            <p v-cloak class="desc-title">{{item.repair_title}}</p>
                            <!-- <p class="desc-detail">{{item.detail}}</p> -->
                            <p v-cloak class="desc-time">预约时间：{{item.create_at}}</p>
                        </div>
                    </div>
                    <div class="operation-group">
                        <button @click="getDetail(3,item.id)" class="get-detail">查看详情</button>
                        <button @click="getCause(item.refusal_content)" class="get-detail reverse">拒绝原因</button>
                    </div>
                </div>
                <div class="no-more">--没有更多了--</div>
            </div>
        </div>
    </div>
    <script src="assets/vue/vue.min.js?v=1.0.0"></script>
    <script src="assets/jquery/jquery.min.js?v=1.0.0"></script>
    <script src="assets/mui/js/mui.min.js?v=1.0.0"></script>
    <script src="js/common.js?v=1.0.0"></script>
    <script src="js/online-repair.js?v=1.0.0"></script>
</body>

</html>